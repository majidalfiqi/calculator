const e=document.documentElement,t=document.querySelector(".modes"),c=document.querySelector(".black"),r=document.querySelector(".light"),s=document.querySelector(".num1"),l=document.querySelector(".op"),a=document.querySelector(".num2"),n=document.querySelector(".result"),o=document.querySelectorAll(".num"),i=document.querySelectorAll(".symbol"),d=document.querySelector(".clear"),u=document.querySelector(".sign"),k=document.querySelector(".percent"),p=document.querySelector(".add"),y=document.querySelector(".subtract"),g=document.querySelector(".multiply"),m=document.querySelector(".divide"),x=document.querySelector(".delete"),v=document.querySelector(".decimal"),L=document.querySelector(".equals"),S=document.querySelector(".one"),q=document.querySelector(".two"),h=document.querySelector(".three"),C=document.querySelector(".four"),b=document.querySelector(".five"),f=document.querySelector(".six"),E=document.querySelector(".seven"),j=document.querySelector(".eight"),F=document.querySelector(".nine"),I=document.querySelector(".zero"),P=e=>{e.target.classList.add("clicked"),e.target.classList.add("dark:clicked"),setInterval((()=>e.target.classList.remove("clicked")),500),setInterval((()=>e.target.classList.remove("dark:clicked")),500),""===z&&""!==A?(""===V&&(s.textContent=A,n.textContent="0"),V=e.target.outerText,l.textContent=V):""===z&&""===A||"∞"!==B&&(a.textContent=z,L.click(),A=B.toString().slice(),s.textContent=B,D=[],z="",a.textContent="",B="",V=e.target.outerText,l.textContent=V)},w=e=>{e.target.classList.add("clicked"),e.target.classList.add("dark:clicked"),setInterval((()=>e.target.classList.remove("clicked")),500),setInterval((()=>e.target.classList.remove("dark:clicked")),500),""!==B&&d.click(),""===V?T.length<8&&("0"===e.target.outerText&&"0"===A||("0"===T[0]&&"."!==T[1]&&T.pop(),T.push(e.target.outerText),A=T.join(""),n.textContent=A)):D.length<8&&("0"===e.target.outerText&&"0"===z||("0"===D[0]&&"."!==D[1]&&D.pop(),D.push(e.target.outerText),z=D.join(""),n.textContent=z))};t.addEventListener("click",(()=>{e.classList.toggle("dark"),c.classList.toggle("text-gray-400"),c.classList.toggle("dark:text-gray-600"),r.classList.toggle("text-gray-400"),r.classList.toggle("dark:text-gray-600"),"5px"===e.style.getPropertyValue("--right")?(e.style.setProperty("--right","unset"),e.style.setProperty("--left","5px")):(e.style.setProperty("--right","5px"),e.style.setProperty("--left","unset"))})),window.addEventListener("keydown",(e=>{switch(e.key){case"0":I.click();break;case"1":S.click();break;case"2":q.click();break;case"3":h.click();break;case"4":C.click();break;case"5":b.click();break;case"6":f.click();break;case"7":E.click();break;case"8":j.click();break;case"9":F.click();break;case".":v.click();break;case"+":p.click();break;case"-":y.click();break;case"*":g.click();break;case"/":m.click();break;case"Backspace":case"Delete":e.preventDefault(),x.click();break;case"Enter":case"=":e.preventDefault(),L.click();break;case"c":case"C":case"Escape":e.preventDefault(),d.click()}})),d.addEventListener("click",(()=>{d.classList.add("clicked"),d.classList.add("dark:clicked"),setInterval((()=>d.classList.remove("clicked")),500),setInterval((()=>d.classList.remove("dark:clicked")),500),s.textContent="",l.textContent="",a.textContent="",A="",z="",T=[],D=[],V="",B="",n.textContent="0"})),u.addEventListener("click",(()=>{""===V?""!==A&&"0"!==A&&("-"!==T[0]?T.unshift("-"):T.shift(),A=T.join(""),n.textContent=A):""!==z&&"0"!==z&&("-"!==D[0]?D.unshift("-"):D.shift(),z=D.join(""),n.textContent=z)})),k.addEventListener("click",(()=>{""===V?""!==A&&"0"!==A&&(A=parseFloat(A)/100,T=[...A.toString()],n.textContent=A):""!==z&&"0"!==z&&(z=parseFloat(z)/100,D=[...z.toString()],n.textContent=z)})),i.forEach((e=>e.addEventListener("click",P))),L.addEventListener("click",(()=>{if(L.classList.add("clicked"),L.classList.add("dark:clicked"),setInterval((()=>L.classList.remove("clicked")),500),setInterval((()=>L.classList.remove("dark:clicked")),500),""!==z){switch(a.textContent=z,V){case"+":B=parseFloat(A)+parseFloat(z);break;case"-":B=parseFloat(A)-parseFloat(z);break;case"×":B=parseFloat(A)*parseFloat(z);break;case"÷":B="0"===z?"∞":parseFloat(A)/parseFloat(z)}B.toString().length>10&&(B=B.toFixed(9-B.toString().split(".")[0].length)),n.textContent=B}})),x.addEventListener("click",(()=>{x.classList.add("clicked"),x.classList.add("dark:clicked"),setInterval((()=>x.classList.remove("clicked")),500),setInterval((()=>x.classList.remove("dark:clicked")),500),""===V?T.length in[0,1]?(T.pop(),A=T.join(""),n.textContent="0"):2===T.length&&"-"===T[0]?(T.pop(),T.pop(),A=T.join(""),n.textContent="0"):(T.pop(),A=T.join(""),n.textContent=A):D.length in[0,1]?(D.pop(),z=D.join(""),n.textContent="0"):2===D.length&&"-"===D[0]?(D.pop(),D.pop(),z=D.join(""),n.textContent="0"):(D.pop(),z=D.join(""),n.textContent=z)})),o.forEach((e=>e.addEventListener("click",w))),v.addEventListener("click",(()=>{""!==B&&d.click(),""===V?T.includes(".")||(""===A&&T.push("0"),T.push("."),A=T.join(""),n.textContent=A):D.includes(".")||(""===z&&D.push("0"),D.push("."),z=D.join(""),n.textContent=z)})),e.style.setProperty("--right","5px"),e.style.setProperty("--left","unset");let T=[],D=[],A="",z="",B="",V="";
